if (self.CavalryLogger) { CavalryLogger.start_js(["664WS"]); }

__d("MessengerVoiceClipButton.react",["cx","fbt","AutoFocusableLink.react","Bootloader","LazyComponent.react","LoadOnRender.react","MessengerContextualDialog.react","MessengerSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("React").createElement("div",{style:{padding:"30px",textAlign:"center"}},b("React").createElement(b("MessengerSpinner.react"),{color:"grey"})),k=function(a){b("Bootloader").loadModules(["MessengerVoiceClipFlyoutReact.bs"],function(b){b=b.jsComponent;return a(b)},"MessengerVoiceClipButton.react")};d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={flyoutOpen:!!this.props.clicked},this.$1=!1,this.$2=function(a){this.setState({flyoutOpen:a})}.bind(this),this.$3=function(){this.setState({flyoutOpen:!1})}.bind(this),this.$6=function(a){this.$1=this.state.flyoutOpen}.bind(this),this.$5=function(a){a.stopPropagation();if(this.$1){this.$1=!1;return}this.setState({flyoutOpen:!this.state.flyoutOpen})}.bind(this),this.$4=function(a){this.setState({flyoutOpen:!1}),this.props.onVoiceClipCreate&&this.props.onVoiceClipCreate(a)}.bind(this),b}a.prototype.render=function(){var a=null;this.state.flyoutOpen&&(a=b("React").createElement(b("MessengerContextualDialog.react"),{contextRef:function(){return this.refs.voiceButton}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$2,onBlur:this.$3},b("React").createElement(b("LoadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{onCancel:this.$3,onStopAndGetVoiceClip:this.$4}),loader:k,placeholder:j})));return b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:"_4rv7"+(this.state.flyoutOpen?" _5jhb":"")+" _39bk _30yy",onClick:this.$5,onMouseDown:this.$6,ref:"voiceButton",role:"button",title:h._("Send a voice clip")},a)};a.propTypes={onVoiceClipCreate:c.func};e.exports=a}),null);
__d("BootloadableMessengerContentSearchFunnelLogger.bs",[],(function(a,b,c,d,e,f){"use strict";a=[];f.bootloadable=a}),null);